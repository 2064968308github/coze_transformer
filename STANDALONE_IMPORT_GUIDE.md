# 独立工作流导入页面使用指南

## 🎯 功能概述

我们创建了一个独立的工作流导入页面，避免了与资源库的集成问题，提供了更稳定可靠的导入体验。

## 🚀 访问方式

### 方法1：通过资源库按钮
1. 访问工作空间资源库：`http://localhost:3000/space/{space_id}/library`
2. 在页面右上角找到 **"导入工作流"** 按钮（蓝色边框按钮）
3. 点击按钮直接跳转到导入页面

### 方法2：直接访问URL
```
http://localhost:3000/space/{space_id}/workflow/import
```
将 `{space_id}` 替换为你的实际工作空间ID

## 🎨 页面特性

### 界面设计
- **响应式布局**: 支持桌面和移动设备
- **双栏设计**: 左侧文件上传，右侧实时预览
- **现代化UI**: 采用卡片式设计，清晰易用

### 功能特性
- ✅ **文件验证**: 自动检查JSON格式和文件大小
- ✅ **实时预览**: 上传后立即显示工作流信息
- ✅ **名称编辑**: 可以修改导入后的工作流名称
- ✅ **进度提示**: 导入过程中显示加载状态
- ✅ **错误处理**: 详细的错误提示和处理
- ✅ **导航便捷**: 一键返回资源库

## 📋 使用步骤

### 步骤1：进入导入页面
- 通过资源库的"导入工作流"按钮
- 或直接访问导入页面URL

### 步骤2：选择文件
- 点击左侧的文件上传区域
- 选择JSON格式的工作流文件
- 系统自动验证文件格式和大小

### 步骤3：预览工作流
- 右侧自动显示工作流预览信息
- 包含名称、描述、节点数、连接数
- 显示导入提示信息

### 步骤4：确认导入
- 检查或修改工作流名称
- 点击"开始导入"按钮
- 等待导入完成

### 步骤5：完成导入
- 显示成功消息
- 自动跳转回资源库
- 新工作流出现在列表中

## 🔧 技术规格

### 支持的文件
- **格式**: JSON (.json)
- **大小**: 最大10MB
- **结构**: 必须包含name和schema字段

### API端点
- **后端接口**: `POST /api/workflow_api/import`
- **数据验证**: 自动验证工作流数据结构
- **错误处理**: 完整的错误响应处理

## 🐛 故障排除

### 常见问题

1. **页面无法访问**
   - 确认工作空间ID正确
   - 检查用户是否有访问权限
   - 确认前端服务正在运行

2. **文件上传失败**
   - 检查文件格式是否为JSON
   - 确认文件大小不超过10MB
   - 验证JSON文件格式是否正确

3. **导入失败**
   - 确认后端服务正在运行
   - 检查网络连接
   - 查看浏览器控制台错误信息

### 调试信息
- 打开浏览器开发者工具
- 查看Console标签的错误信息
- 检查Network标签的API请求状态

## 📊 测试用例

使用项目根目录下的 `test_workflow_import.json` 文件进行测试：

```json
{
  "name": "测试工作流",
  "description": "这是一个用于测试导入功能的示例工作流",
  "schema": { ... },
  "nodes": [ ... ],
  "edges": [ ... ]
}
```

## 🎉 优势

相比于集成到资源库下拉菜单的方案，独立页面具有以下优势：

1. **稳定性**: 不会影响资源库的正常功能
2. **用户体验**: 更大的操作空间和更清晰的界面
3. **功能完整**: 可以展示更多的预览信息和说明
4. **维护性**: 独立的页面更容易维护和扩展
5. **可访问性**: 可以直接通过URL访问，便于分享

## 🔄 后续扩展

该页面设计具有良好的扩展性，可以轻松添加：
- 批量导入功能
- 导入历史记录
- 更多文件格式支持
- 导入预设模板

现在就可以开始使用这个强大的工作流导入功能了！🚀